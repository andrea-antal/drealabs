<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Drea Labs - Interactive Portfolio</title>
  <meta name="description" content="Drea Labs - An interactive point-and-click portfolio experience.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="icon" type="image/png" href="favicon.png">
  <link rel="apple-touch-icon" href="favicon.png">
  <link rel="stylesheet" href="style.css">
  <script type="importmap">
    {
      "imports": {
        "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js"
      }
    }
  </script>
</head>
<body>
  <!-- Game Container -->
  <div id="game-container"></div>

  <!-- Transition Overlay -->
  <div id="transition-overlay"></div>

  <!-- Portal Arrow Indicators -->
  <div id="portal-arrow-left" class="portal-arrow">
    <img src="assets/arrow-left.png" alt="Go left" class="arrow-icon">
  </div>
  <div id="portal-arrow-right" class="portal-arrow">
    <img src="assets/arrow-right.png" alt="Go right" class="arrow-icon">
  </div>

  <!-- Speech Bubble -->
  <div id="speech-bubble">
    <span class="bubble-text">Hello! Click on a tank to explore.</span>
  </div>

  <!-- Thought Bubble -->
  <div id="thought-bubble">
    <span class="bubble-text">Hmm, which tank should I check out?</span>
    <div class="thought-dots">
      <span class="dot dot-1"></span>
      <span class="dot dot-2"></span>
      <span class="dot dot-3"></span>
    </div>
  </div>

  <!-- Controls Hint -->
  <div id="controls-hint">Tap/click around to explore<span class="keyboard-hint"><br>&nbsp;&nbsp;&nbsp;&nbsp;Use <kbd>&larr;</kbd> <kbd>&rarr;</kbd> to move</span></div>

  <!-- Debug Coordinate Overlay -->
  <div id="debug-coords" style="display: none; position: fixed; top: 10px; left: 10px; background: rgba(0,0,0,0.8); color: #00ffd0; font-family: monospace; font-size: 14px; padding: 10px 15px; border-radius: 4px; z-index: 9999; pointer-events: none;">
    <div>X: <span id="debug-x">0</span></div>
    <div>Y: <span id="debug-y">0</span></div>
  </div>

  <!-- Loading Indicator -->
  <div id="loading">
    <div class="loading-text">Loading...</div>
  </div>

  <!-- Small Screen Fallback -->
  <div id="small-screen-fallback">
    <img src="comingsoon.png" alt="Drea Labs">
    <p>This experience is best viewed on a larger screen.</p>
    <a href="https://drealabs.substack.com">Read the blog &rarr;</a>
  </div>

  <!-- Project Panel Backdrop -->
  <div id="panel-backdrop"></div>

  <!-- Message in a Bottle Overlay -->
  <div id="message-bottle">
    <a href="https://drealabs.com/blog" target="_blank" rel="noopener" id="bottle-link">
      <video src="assets/message-bottle.mp4" class="bottle-image" autoplay loop muted playsinline></video>
      <p class="bottle-hint">Click to visit the blog</p>
    </a>
  </div>

  <!-- Captain's Log Overlay --><div id="captains-log">
    <button id="log-close" aria-label="Close log">&times;</button>
    <div class="log-content">
      <img src="assets/captains-log.png" alt="Captain's Log" class="log-image">
      <div class="log-text">
        <h2 class="log-title">CAPTAIN'S LOG</h2>
        <div class="changelog-entries"></div>
      </div>
    </div>
  </div>

  <!-- Project Panel -->
  <div id="project-panel">
    <button id="panel-close" aria-label="Close panel">&times;</button>
    <h2 class="panel-title"></h2>
    <div class="carousel">
      <div class="carousel-slides"></div>
      <button class="carousel-arrow carousel-prev" aria-label="Previous">&lsaquo;</button>
      <button class="carousel-arrow carousel-next" aria-label="Next">&rsaquo;</button>
      <div class="carousel-dots"></div>
    </div>
    <p class="carousel-hint">Click image to enlarge</p>
    <p class="panel-description"></p>
    <div class="panel-tech"></div>
    <div class="panel-links">
      <a class="panel-link-live" href="#" target="_blank" rel="noopener">View Live</a>
      <a class="panel-link-github" href="#" target="_blank" rel="noopener">GitHub</a>
    </div>
  </div>

  <!-- Image Lightbox -->
  <div id="image-lightbox">
    <button id="lightbox-close" aria-label="Close lightbox">&times;</button>
    <img id="lightbox-image" src="" alt="">
  </div>

  <!-- NPC Dialog -->
  <div id="npc-dialog">
    <div class="dialog-content">
      <div class="dialog-header">
        <span class="dialog-name"></span>
        <button id="dialog-close" aria-label="Close dialog">&times;</button>
      </div>
      <p class="dialog-text"></p>
      <button class="dialog-next">Continue</button>
    </div>
  </div>

  <!-- Guestbook Panel -->
  <div id="guestbook-panel">
    <button id="guestbook-close" aria-label="Close guestbook">&times;</button>
    <h2 class="guestbook-title">Guestbook</h2>

    <form id="guestbook-form">
      <input type="text" name="name" placeholder="Name" required maxlength="50" autocomplete="name">
      <input type="text" name="location" placeholder="Location (optional)" maxlength="50" autocomplete="address-level2">
      <textarea name="message" placeholder="Leave a message..." required maxlength="500"></textarea>
      <input type="text" name="website" class="honeypot" tabindex="-1" autocomplete="off" aria-hidden="true">
      <div class="guestbook-form-footer">
        <span class="guestbook-char-count">0/500</span>
        <button type="submit" class="guestbook-submit">Sign Guestbook</button>
      </div>
      <p class="guestbook-error" aria-live="polite"></p>
    </form>

    <div class="guestbook-divider"></div>

    <div id="guestbook-entries">
      <p class="guestbook-loading">Loading entries...</p>
    </div>
  </div>

  <script type="module" src="js/main.js"></script>
</body>
</html>
